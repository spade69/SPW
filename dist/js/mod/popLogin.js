define("useful",[],function(){String.prototype.glen=function(){for(var e=0,t=0;t<this.length;t++)this.charCodeAt(t)>127||94==this.charCodeAt(t)?e+=2:e++;return e},addEvent=function(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent?e.attachEvent("on"+t,n):e["on"+t]=n},autoCenter=function(e){var t=document.body.clientWidth,n=document.body.clientHeight,o=e.offsetWidth,s=e.offsetHeight;e.style.left=(t-o)/2+"px",e.style.top=(n-s)/2+"px"},fillToBody=function(e){e.style.width=document.body.clientWidth+"px",e.style.height=document.body.clientHeight+"px"}}),define("popLogin",["useful"],function(e){function t(e,t,n,o){var s,i,l;this.mask=document.getElementById(t),this.ctn=document.getElementById(e),this.pop=document.getElementById(n),this.login=document.getElementById(o),this.mouseOffsetX=0,this.mouseOffsetY=0,this.isDraging=!1,this.moving=0,this.mouseStartX=0,this.mouseStartY=0,this.mouseX=this.mouseY=0,this.setPanel=function(e){s=e},this.getPanel=function(){return s},this.setCtrl=function(e){i=e},this.getCtrl=function(){return i},this.setType=function(e){l=e},this.getType=function(){return l},this.initialEvent=function(){var e=this;addEvent(this.mask,"click",function(){e.mask.style.display="none",e.pop.style.display="none"}),addEvent(this.ctn,"click",function(){e.mask.style.display="none",e.pop.style.display="none"}),addEvent(this.login,"click",function(){"none"==e.mask.style.display?(e.mask.style.display="block",e.pop.style.display="block"):(e.mask.style.display="none",e.pop.style.display="none")})},this.mouseEvent=function(){var e=this;addEvent(this.pop,"mousedown",function(t){var t=t||window.event;e.mouseOffsetX=t.pageX-this.offsetLeft,e.mouseOffsetY=t.pageY-this.offsetTop,e.isDraging=!0})},this.initialEvent(),this.mouseEvent()}return t.prototype={autoCenter:function(e){var e=document.querySelector(e)||document.getElementById(e),t=document.body.clientWidth,n=(document.body.clientHeight,e.offsetWidth);e.offsetHeight;e.style.left=(t-n)/4+"px",e.style.top="100px"},fillToBody:function(e){var e=document.querySelector(e)||document.getElementById(e);e.style.width=document.body.clientWidth+"px",e.style.height=document.body.clientHeight+"px"},mousemoveHandler:function(){var e=this;addEvent(document,"mousemove",function(t){var t=t||window.event;e.mouseX=t.pageX,e.mouseY=t.pageY;var n=0,o=0;if(e.isDraging===!0){n=e.mouseX-e.mouseOffsetX,o=e.mouseY-e.mouseOffsetY;var s=document.body.clientWidth,i=document.body.clientHeight,l=e.pop.offsetWidth,a=e.pop.offsetHeight,d=s-l,u=i-a;n=Math.min(d,Math.max(0,n)),o=Math.min(u,Math.max(0,o)),e.pop.style.left=n+"px",e.pop.style.top=o+"px"}})},mouseupHandler:function(){var e=this;addEvent(document,"mouseup",function(){e.isDraging=!1,clearInterval(e.moving),e.moving=0;for(var t=document.getElementsByClassName("resizable-box"),n=0;n<t.length;n++)t[n].style.left="",t[n].style.top=""})},onMouseDown:function(e,t,n,o,s){var e=e||window.event;s.mouseStartX=e.pageX-n.offsetLeft,s.mouseStartY=e.pageY-n.offsetTop,console.log(s),s.setPanel(t),s.setCtrl(n),s.setType(o),console.log(s.getType()),s.moving=setInterval(function(){s.onMove(s)},10)},onMove:function(e){if(e.moving){var t=e.mouseX-e.mouseStartX,n=e.mouseY-e.mouseStartY,o=document.body.clientWidth-e.getPanel().offsetLeft-10,s=document.body.clientHeight-e.getPanel().offsetTop-10;switch(t=Math.min(o,Math.max(t,180)),n=Math.min(s,Math.max(n,140)),e.isDraging=!1,console.log(e.isDraging),e.getType()){case"r":e.getCtrl().style.left=t+"px",e.getPanel().style.width=t+"px";break;case"b":e.getCtrl().style.top=n+"px",e.getPanel().style.height=n+"px";break;case"rb":e.getCtrl().style.left=t-8+"px",e.getCtrl().style.top=n-8+"px",e.getPanel().style.width=t+"px",e.getPanel().style.height=n+"px"}}},resizable:function(e){var t=document.querySelector(e)||document.getElementById(e),n=this,o=document.createElement("div"),s=document.createElement("div"),i=document.createElement("div");o.class=o.className="resizable-right resizable-box",s.class=s.className="resizable-bottom resizable-box",i.class=i.className="resizable-right-bottom resizable-box",t.appendChild(o),t.appendChild(s),t.appendChild(i),this.mousemoveHandler(),this.mouseupHandler(),addEvent(o,"mousedown",function(e){n.onMouseDown(e,t,o,"r",n)}),addEvent(s,"mousedown",function(e){n.onMouseDown(e,t,s,"b",n)}),addEvent(i,"mousedown",function(e){n.onMouseDown(e,t,i,"rb",n)})}},{CreateFloat:t}});